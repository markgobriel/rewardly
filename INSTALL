# REWARDLY - DEPLOYMENT GUIDE

## DEPLOYED APPLICATION
Live URL: https://rewardly-frontend-production.up.railway.app/

The application is deployed on Railway with:
- Frontend: React + Vite application
- Backend: Node.js + Express + Prisma API
- Database: SQLite (automatically seeded on startup)

---

## LOCAL INSTALLATION & SETUP

### Prerequisites
- Node.js v25.2.1 or higher
- npm (comes with Node.js)
- Git

### 1. Clone the Repository
```bash
git clone <repository-url>
cd course-project
```

### 2. Backend Setup

#### Navigate to backend directory:
```bash
cd backend
```

#### Install dependencies:
```bash
npm install
```

The following packages will be installed:
- express (^4.21.2) - Web framework
- @prisma/client (^6.4.1) - Database ORM
- prisma (^6.4.1) - Database toolkit
- bcrypt (^5.1.1) - Password hashing
- jsonwebtoken (^9.0.2) - JWT authentication
- cors (^2.8.5) - Cross-origin resource sharing
- multer (^1.4.5-lts.1) - File upload handling
- sqlite3 (^5.1.7) - SQLite database
- uuid (^11.1.0) - UUID generation
- zod (^3.24.2) - Schema validation

#### Environment Configuration:
Create a `.env` file in the backend directory:
```bash
JWT_SECRET=your-secret-key-here
```

#### Database Setup:
The database is automatically created and seeded when the server starts.
It includes:
- 12 pre-populated users (user1-user12, all with password: password123)
- 40 events with various dates and locations
- 30 transactions across different types
- 10 promotions with sample data

#### Start Backend Server:
```bash
node index.js 3000
```

The backend will run on http://localhost:3000

### 3. Frontend Setup

#### Navigate to frontend directory:
```bash
cd ../frontend
```

#### Install dependencies:
```bash
npm install
```

The following packages will be installed:
- react (^19.2.0) - UI framework
- react-router-dom - Routing
- vite (^7.0.3) - Build tool
- @radix-ui/* - UI component primitives
- lucide-react (^0.554.0) - Icon library
- @fullcalendar/* (^6.1.19) - Calendar component
- tailwindcss (^4.1.17) - CSS framework
- framer-motion (^12.23.24) - Animation library

#### Environment Configuration:
Create a `.env` file in the frontend directory:
```bash
VITE_BACKEND_URL=http://localhost:3000
```

For production (Railway), set:
```bash
VITE_BACKEND_URL=https://rewardly-backend-production.up.railway.app
```

#### Start Development Server:
```bash
npm run dev
```

The frontend will run on http://localhost:5173

### 4. Access the Application

#### Test Accounts:
You can log in with any of these pre-seeded accounts:

**Superuser (Admin):**
- Username: admin01
- Password: password123

**Manager:**
- Username: manager01
- Password: password123

**Cashier:**
- Username: cashier01
- Password: password123

**Regular User:**
- Username: user01, user02, user03, user04, user05
- Password: password123

---

## TROUBLESHOOTING

### Backend won't start:
- Check Node.js version: `node --version` (should be v25.2.1+)
- Ensure port 3000 is not in use: `lsof -ti:3000 | xargs kill -9`
- Verify .env file exists with JWT_SECRET

### Frontend won't connect to backend:
- Check VITE_BACKEND_URL in frontend/.env
- Ensure backend is running first
- Check browser console for CORS errors

### Database issues:
- Delete `backend/prisma/dev.db` and restart backend
- Database will be automatically recreated and seeded

### Login issues:
- Use test accounts: user1-user12 with password: password123
- Clear browser localStorage and try again

---

## ARCHITECTURE

### Key Features:
- User registration and authentication
- Role-based access control (Regular, Cashier, Manager, Superuser)
- Event management with RSVP functionality
- Promotion system with various types
- Transaction tracking (purchases, redemptions, transfers, adjustments)
- QR code generation for users
- Points-based loyalty system
- Calendar view of events
- Profile management
- Admin dashboard

